# 享元模式
## 享元模式的定义与特点
> * 享元(Flyweight)模式的定义：运用共享技术来有效地支持大量细粒度的复用。它通过共享已经存在的对象来大幅度减少需要创建的对象数量、避免大量相类似的开销。从而提高资源的利用率。
> * 享元模式的主要优点是：相同对象只要保存一份，这降低了系统中对象的数量，从而降低了系统中细粒度对象给内存带来的压力。
> * 其主要缺点是：
>   1. 为了使对象可以共享，需要将一些不能共享的状态外部化，这将增加程序的复杂性。
>   2. 读取享元模式的外部状态会使得运行时间稍微变长。
## 享元模式的结构与实现
> * 享元模式中在以下两种状态：
>   1. 内部状态：即不会随着环境的改变而改变的可共享部分；
>   2. 外部状态：指随环境改变而改变的不可以共享的部分。
> * 享元模式的实现要领就是区分应用中的这两种状态，并将外部状态内部化。
> 1. 模式的结构
>   * 享元模式的主要角色如下：
>   1. 抽象享元角色(Flyweight)：是所有的具体享元类的基类，为具体享元规范需要实现的公共接口，非享元的外部状态以参数的形式通过方法传入。
>   2. 具体享元(Concrete Flyweight)角色：实现抽象享元角色中所规定的接口。
>   3. 非享元(Unsharable Flyweight)角色：是不可以共享的外部状态，它以参数的形式注入具体享元的相关方法中。
>   4. 享元工厂(Flyweight Factory)角色：负责创建和管理享元角色。当客户角色通过享元工厂获取具体享元时，享元工厂检查系统中是否存在符合要求的享元对象，如果存在则提供给客户；如果不存在的话，则创建一个新的享元对象。
>   * 享元模式的结构图
>   * ![享元模式的结构图](https://github.com/mrgao0612/material-repo/blob/master/3-1Q115161342242.gif?raw=true)
> 2. 模式的实现
>   * 详见代码